# HAS THE ISSUE THAT IF ANOTHER PLAYER STEPS ON THE RESET WHILE RISE IS OUT, ABIAN IS STUCK AT SWAP AND CANNOT SWITCH TO RISE 

# - Highlighting Weapon Wheel -
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianAutismAwarenessDayWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run data merge entity @e[tag=AbianAutismAwarenessDayWeaponWheel,type=minecraft:armor_stand,limit=1] {CustomNameVisible:1}
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianAutismAwarenessDayWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run item replace entity @p[tag=Abian,scores={Basic_ShiftOff=1},nbt={SelectedItem:{tag:{AbianWeapon:1b}}}] weapon.mainhand with golden_axe{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"The Autism Awareness Day","italic":false,"color":"dark_aqua"}]',Lore:['[{"text":"Item Ability: | ","italic":false,"color":"gold"},{"text":"Every 5 Attacks","color":"yellow","bold":true},{"text":"","color":"dark_purple","bold":false}]','[{"text":"Buffs you and your next weapon\'s ability once.","italic":false,"color":"gray"}]']},HideFlags:37,AttributeModifiers:[{AttributeName:"generic.attack_damage",Amount:8,Operation:0,UUID:[I;-1201022,3975,153055,-7950],Slot:mainhand,Name:"generic.attack_damage"},{AttributeName:"generic.attack_speed",Amount:20,Operation:0,UUID:[I;-1201022,3975,153055,-7950],Slot:mainhand,Name:"generic.attack_speed"},{AttributeName:"generic.armor",Amount:4,Operation:0,UUID:[I;-1201112,27148,18447,-54296],Slot:mainhand,Name:"generic.armor"}]}
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianAutismAwarenessDayWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run execute at @p[tag=Abian,scores={Basic_ShiftOff=1},nbt={SelectedItem:{tag:{AbianWeapon:1b}}}] run playsound minecraft:ui.button.click neutral @a[distance=..10] ~ ~ ~ 3 1.5 1
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianAutismAwarenessDayWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 unless entity @s[distance=..0.17] run data remove entity @e[tag=AbianAutismAwarenessDayWeaponWheel,type=minecraft:armor_stand,limit=1] CustomNameVisible

execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=StarstormWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run data merge entity @e[tag=StarstormWeaponWheel,type=minecraft:armor_stand,limit=1] {CustomNameVisible:1}
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=StarstormWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run item replace entity @p[tag=Abian,scores={Basic_ShiftOff=1},nbt={SelectedItem:{tag:{AbianWeapon:1b}}}] weapon.mainhand with carrot_on_a_stick{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Starstorm","italic":false,"color":"aqua"}]',Lore:['[{"text":"Item Ability: | ","italic":false,"color":"gold"},{"text":"RIGHT CLICK","color":"yellow","bold":true},{"text":"","color":"dark_purple","bold":false}]','[{"text":"When used, meteors fall in the direction you","italic":false,"color":"gray"}]','[{"text":"are facing.","italic":false,"color":"gray"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]']},CustomModelData:67}
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=StarstormWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run execute at @p[tag=Abian,scores={Basic_ShiftOff=1},nbt={SelectedItem:{tag:{AbianWeapon:1b}}}] run playsound minecraft:ui.button.click neutral @a[distance=..10] ~ ~ ~ 3 1.5 1
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=StarstormWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 unless entity @s[distance=..0.17] run data remove entity @e[tag=StarstormWeaponWheel,type=minecraft:armor_stand,limit=1] CustomNameVisible

execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianLifestealWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run data merge entity @e[tag=AbianLifestealWeaponWheel,type=minecraft:armor_stand,limit=1] {CustomNameVisible:1}
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianLifestealWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run item replace entity @p[tag=Abian,scores={Basic_ShiftOff=1},nbt={SelectedItem:{tag:{AbianWeapon:1b}}}] weapon.mainhand with bow{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Lifesteal","italic":false,"color":"green"}]',Lore:['[{"text":"Item Ability: Lifesteal","italic":false,"color":"gold"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Fully charged shots","italic":false,"color":"dark_gray"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"When you land a bow shot, you","italic":false,"color":"gray"}]','[{"text":"heal 2 hearts ","italic":false,"color":"gray"},{"text":"(❤❤)","color":"red"},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]']},Enchantments:[{id:infinity,lvl:1},{id:punch,lvl:1}],HideFlags:36} 1
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianLifestealWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run execute at @p[tag=Abian,scores={Basic_ShiftOff=1},nbt={SelectedItem:{tag:{AbianWeapon:1b}}}] run playsound minecraft:ui.button.click neutral @a[distance=..10] ~ ~ ~ 3 1.5 1
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianLifestealWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 unless entity @s[distance=..0.17] run data remove entity @e[tag=AbianLifestealWeaponWheel,type=minecraft:armor_stand,limit=1] CustomNameVisible

execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianOverfluxWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run data merge entity @e[tag=AbianOverfluxWeaponWheel,type=minecraft:armor_stand,limit=1] {CustomNameVisible:1}
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianOverfluxWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run item replace entity @p[tag=Abian,scores={Basic_ShiftOff=1},nbt={SelectedItem:{tag:{AbianWeapon:1b}}}] weapon.mainhand with carrot_on_a_stick{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Overflux Power Orb","italic":false,"color":"dark_purple"}]',Lore:['[{"text":"Item Ability: |","italic":false,"color":"gold"},{"text":" ","color":"gray"},{"text":"RIGHT CLICK","color":"yellow","bold":true},{"text":"","color":"dark_purple","bold":false}]','[{"text":"Places an orb that buffs you and damages","italic":false,"color":"gray"}]','[{"text":"nearby enemies","italic":false,"color":"gray"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]']},CustomModelData:69} 1
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianOverfluxWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run execute at @p[tag=Abian,scores={Basic_ShiftOff=1},nbt={SelectedItem:{tag:{AbianWeapon:1b}}}] run playsound minecraft:ui.button.click neutral @a[distance=..10] ~ ~ ~ 3 1.5 1
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianOverfluxWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 unless entity @s[distance=..0.17] run data remove entity @e[tag=AbianOverfluxWeaponWheel,type=minecraft:armor_stand,limit=1] CustomNameVisible

execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianRiseWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run data merge entity @e[tag=AbianRiseWeaponWheel,type=minecraft:armor_stand,limit=1] {CustomNameVisible:1}
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianRiseWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run item replace entity @p[tag=Abian,tag=AbianCanSwap,scores={Basic_ShiftOff=1},nbt={SelectedItem:{tag:{AbianWeapon:1b}}}] weapon.mainhand with carrot_on_a_stick{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Swap","italic":false,"color":"dark_purple"}]',Lore:['[{"text":"Item Ability: | ","italic":false,"color":"gold"},{"text":"RIGHT CLICK","color":"yellow","bold":true},{"text":"","color":"dark_purple","bold":false}]','[{"text":"You swap locations with your Hydra","italic":false,"color":"gray"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]']},Enchantments:[{id:infinity,lvl:1}],HideFlags:33,CustomModelData:68}
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianRiseWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run item replace entity @p[tag=Abian,tag=!AbianCanSwap,scores={Basic_ShiftOff=1},nbt={SelectedItem:{tag:{AbianWeapon:1b}}}] weapon.mainhand with carrot_on_a_stick{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Rise","italic":false,"color":"light_purple"}]',Lore:['[{"text":"Item Ability: | ","italic":false,"color":"gold"},{"text":"RIGHT CLICK","color":"yellow","bold":true},{"text":"","color":"dark_purple","bold":false}]','[{"text":"Summons a hydra to fight for you.","italic":false,"color":"gray"}]']},CustomModelData:68}
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianRiseWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.17] run execute at @p[tag=Abian,scores={Basic_ShiftOff=1},nbt={SelectedItem:{tag:{AbianWeapon:1b}}}] run playsound minecraft:ui.button.click neutral @a[distance=..10] ~ ~ ~ 3 1.5 1
execute as @p[tag=Abian] at @s anchored eyes facing entity @e[type=armor_stand,tag=AbianRiseWeaponWheel,sort=nearest,limit=1] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 unless entity @s[distance=..0.17] run data remove entity @e[tag=AbianRiseWeaponWheel,type=minecraft:armor_stand,limit=1] CustomNameVisible



# - Weapon Wheel -
scoreboard players add @p[tag=Abian,scores={Basic_Shift=0}] Basic_ShiftOff 1
scoreboard players reset @p[tag=Abian,scores={Basic_ShiftOff=3..}] Shift
scoreboard players reset @p[tag=Abian,scores={Basic_Shift=1..}] Basic_ShiftOff
scoreboard players add @p[tag=Abian,scores={Basic_Shift=1..},gamemode=!spectator,nbt={SelectedItem:{tag:{AbianWeapon:1b}}}] Basic_ShiftOn 1
scoreboard players reset @p[tag=Abian,scores={Basic_ShiftOff=3..}] Basic_ShiftOn

execute at @p[tag=Abian,scores={Basic_ShiftOn=1}] run summon armor_stand ^ ^2 ^5 {CustomName:'[{"text":"Autism Awareness"}]',Tags:["AbianAutismAwarenessDayWeaponWheel","AbianWeapons"],Invisible:1b,NoGravity:1b,Marker:1b,DisabledSlots:2039583,Small:1,Invulnerable:1,ArmorItems:[{},{},{},{id:"minecraft:player_head",tag:{SkullOwner:{Id:[I;-475097093,-1232581123,-1897520009,-1863176499],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMTI4OWQ1YjE3ODYyNmVhMjNkMGIwYzNkMmRmNWMwODVlODM3NTA1NmJmNjg1YjVlZDViYjQ3N2ZlODQ3MmQ5NCJ9fX0="}]}}},Count:1b}],Pose:{Head:[0f,0f,180f]}}
execute at @p[tag=Abian,scores={Basic_ShiftOn=1}] run summon armor_stand ^1.19 ^1 ^5 {CustomName:'[{"text":"Starstorm"}]',Tags:["StarstormWeaponWheel","AbianWeapons"],Invisible:1b,NoGravity:1b,Marker:1b,DisabledSlots:2039583,Small:1,Invulnerable:1,ArmorItems:[{},{},{},{id:"minecraft:player_head",tag:{SkullOwner:{Id:[I;1907575494,1796623071,-1690213827,1291872726],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvY2RjNTdjNzVhZGYzOWVjNmYwZTA5MTYwNDlkZDk2NzFlOThhOGExZTYwMDEwNGU4NGU2NDVjOTg4OTUwYmQ3In19fQ=="}]}}},Count:1b}],Pose:{Head:[0f,0f,180f]}}
execute at @p[tag=Abian,scores={Basic_ShiftOn=1}] run summon armor_stand ^-1.19 ^1 ^5 {CustomName:'[{"text":"Lifesteal"}]',Tags:["AbianLifestealWeaponWheel","AbianWeapons"],Invisible:1b,NoGravity:1b,Marker:1b,DisabledSlots:2039583,Small:1,Invulnerable:1,ArmorItems:[{},{},{},{id:"minecraft:player_head",tag:{SkullOwner:{Id:[I;-1690381855,1180584462,-1406468635,-1197718696],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZGZiODAyMmM5ZDlhMDVlMDgzMTZkYTg3NDU3YmNhYjI3ODVjM2JhN2E1OTBkNDk0N2NlZjY4ODQzYjRkMDdhZCJ9fX0="}]}}},Count:1}],Pose:{Head:[0f,0f,180f]}}
execute at @p[tag=Abian,scores={Basic_ShiftOn=1}] run summon armor_stand ^-0.69 ^-0.2 ^5 {CustomName:'[{"text":"Overflux"}]',Tags:["AbianOverfluxWeaponWheel","AbianWeapons"],NoGravity:1b,Marker:1b,DisabledSlots:2039583,Small:1,Invulnerable:1,Invisible:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",tag:{SkullOwner:{Id:[I;90327587,-1561246023,-1641618333,-2057370175],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvODQ4NTlkMGFkZmM5M2JlMTliYjQ0MWU2ZWRmZDQzZjZiZmU2OTEyNzIzMDMzZjk2M2QwMDlhMTFjNDgyNDUxMCJ9fX0="}]}}},Count:1}],Pose:{Head:[0f,0f,180f]}}
execute at @p[tag=Abian,scores={Basic_ShiftOn=1}] run summon armor_stand ^0.69 ^-0.2 ^5 {CustomName:'[{"text":"Rise"}]',Tags:["AbianRiseWeaponWheel","AbianWeapons"],NoGravity:1b,Marker:1b,DisabledSlots:2039583,Small:1,Invulnerable:1,Invisible:1b,ArmorItems:[{},{},{},{id:"minecraft:player_head",tag:{SkullOwner:{Id:[I;-1686951137,1917471755,-2068951118,214111927],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMjQ0ODBlMzllYTYzZTM0N2QyNjhkZTgzMDkwZDA5OTg0YmYzNDM5NDExODg0ODM0OGJmNGViNTc0OTBjZTlkMiJ9fX0="}]}}},Count:1b}],Pose:{Head:[0f,0f,180f]}}

execute at @p[tag=Abian,scores={Basic_ShiftOn=1..}] run execute as @e[tag=AbianWeapons,type=armor_stand] at @s run tp @s ~ ~ ~ facing entity @p[tag=Abian,limit=1]

execute as @p[tag=Abian,scores={Basic_ShiftOff=3..}] at @s run kill @e[type=armor_stand,tag=AbianWeapons]

scoreboard players reset @p[tag=Abian,scores={Basic_ShiftOn=1000..}] Basic_ShiftOn
scoreboard players reset @p[tag=Abian,scores={Basic_ShiftOff=3..}] Basic_ShiftOff



# - The Autism Awareness Day -
title @p[tag=Abian,tag=!AbianMaxAutism] actionbar ["",{"text":"Overflux:","color":"dark_aqua"},{"text":" ","color":"white"},{"score":{"name":"@p[tag=Abian]","objective":"Ability2CD"},"color":"white"},{"text":" || ","color":"white"},{"text":"Rise:","color":"light_purple"},{"text":" ","color":"white"},{"score":{"name":"@p[tag=Abian]","objective":"Ability3CD"},"color":"white"},{"text":" || ","color":"white"},{"text":"Autism Levels: ","color":"gold"},{"score":{"name":"@p[tag=Abian]","objective":"Timer"},"color":"gold"},{"text":"/3","color":"gold"}]
title @p[tag=Abian,tag=AbianMaxAutism] actionbar ["",{"text":"Overflux:","color":"dark_aqua"},{"text":" ","color":"white"},{"score":{"name":"@p[tag=Abian]","objective":"Ability2CD"},"color":"white"},{"text":" || ","color":"white"},{"text":"Rise:","color":"light_purple"},{"text":" ","color":"white"},{"score":{"name":"@p[tag=Abian]","objective":"Ability3CD"},"color":"white"},{"text":" || ","color":"white"},{"text":"MAX AUTISM","color":"gold"}]

execute as @p[tag=Abian,scores={Basic_Attack=1..},nbt={SelectedItem:{id:"minecraft:golden_axe",tag:{Unbreakable:1,display:{Name:'[{"text":"The Autism Awareness Day","italic":false,"color":"dark_aqua"}]'}}}}] at @s if entity @e[nbt={HurtTime:10s},sort=nearest,limit=1,distance=..8] run scoreboard players add @s Timer 1

execute as @p[tag=Abian,scores={Timer=3..}] at @s run tag @s add AbianMaxAutism
execute as @p[tag=Abian,scores={Timer=3..}] at @s run effect give @s minecraft:strength 3 1 true
execute as @p[tag=Abian,scores={Timer=3..}] at @s run effect give @s minecraft:speed 3 1 true

scoreboard players set @p[tag=Abian,scores={Timer=3..}] Timer 0

execute as @p[tag=AbianMaxAutism] at @s run particle minecraft:falling_dust red_wool ~ ~1 ~ 0.3 1 0.3 2 1
execute as @p[tag=AbianMaxAutism] at @s run particle minecraft:falling_dust orange_wool ~ ~1 ~ 0.3 1 0.3 2 1



# - Starstorm -
execute as @p[tag=Abian,scores={Ability1CD=..29}] at @s run scoreboard players add @s Ability1CD 1
execute as @p[tag=Abian,scores={Ability1CD=30..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{Unbreakable:1,display:{Name:'[{"text":"Starstorm","italic":false,"color":"aqua"}]'}}}}] at @s run execute as @s[scores={Basic_COS=1..}] run scoreboard players set @s RaycastTimer 0
execute as @p[tag=Abian,scores={Ability1CD=30..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{Unbreakable:1,display:{Name:'[{"text":"Starstorm","italic":false,"color":"aqua"}]'}}}}] at @s run execute as @s[scores={Basic_COS=1..}] anchored eyes run function datapack:abian_functions/abianpassive3
execute as @p[tag=Abian,scores={Ability1CD=30..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{Unbreakable:1,display:{Name:'[{"text":"Starstorm","italic":false,"color":"aqua"}]'}}}}] at @s run execute as @s[scores={Basic_COS=1..}] run scoreboard players set @s Ability1CD 0

execute as @e[type=armor_stand,tag=AbianStarstorm] at @s run function datapack:abian_functions/abianpassive4

execute as @e[type=armor_stand,tag=AbianStarstorm2,tag=!AbianStarstormBuffed] at @s run particle dust 0 1 1 1 ~ ~1.5 ~ 0.2 0.2 0.2 1 50
execute as @e[type=armor_stand,tag=AbianStarstorm2] at @s run tp @s ~ ~-1.2 ~

execute as @e[type=armor_stand,tag=AbianStarstorm2] at @s unless block ~ ~ ~ air run playsound minecraft:block.end_gateway.spawn neutral @a[distance=..50] ~ ~ ~ 2 0 1
execute as @e[type=armor_stand,tag=AbianStarstorm2,tag=!AbianStarstormBuffed] at @s unless block ~ ~ ~ air run particle dust 0 1 1 1 ~ ~1 ~ 1 0.4 1 0 200
execute as @e[type=armor_stand,tag=AbianStarstorm2,tag=!AbianStarstormBuffed] at @s unless block ~ ~ ~ air run kill @s

execute as @e[tag=!Abian,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!#arrows,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit] at @s if entity @e[type=armor_stand,tag=AbianStarstorm2,tag=!AbianStarstormBuffed,distance=..3] run function datapack:damage1


# PK Starstorm (Buffed by Autism Awareness Day)
execute as @e[type=armor_stand,tag=AbianStarstorm2] if entity @p[tag=AbianMaxAutism] at @s run tag @s add AbianStarstormBuffed
execute as @e[type=armor_stand,tag=AbianStarstorm2] if entity @p[tag=AbianMaxAutism] at @s run tag @p[tag=AbianMaxAutism] remove AbianMaxAutism

execute as @e[type=armor_stand,tag=AbianStarstormBuffed] at @s run particle dust 0.5 0 0 1 ~ ~1.5 ~ 0.35 0.35 0.35 1 100

execute as @e[type=armor_stand,tag=AbianStarstormBuffed] at @s unless block ~ ~ ~ air run particle dust 1 0 0 1 ~ ~1.5 ~ 2 1 2 0 400
execute as @e[type=armor_stand,tag=AbianStarstormBuffed] at @s unless block ~ ~ ~ air run kill @s

execute as @e[tag=!Abian,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!#arrows,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit] at @s if entity @e[type=armor_stand,tag=AbianStarstormBuffed,distance=..5] run function datapack:damage2
execute as @e[tag=!Abian,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!#arrows,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit] at @s if entity @e[type=armor_stand,tag=AbianStarstormBuffed,distance=..5] run effect give @s slowness 2 9 true
execute as @e[tag=!Abian,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!#arrows,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit] at @s if entity @e[type=armor_stand,tag=AbianStarstormBuffed,distance=..5] run effect give @s wither 2 9 true



# - Lifesteal -

# crit arrow
execute at @p[tag=Abian,scores={Basic_Bow=1..}] run execute positioned ^ ^1.35 ^1 run data merge entity @e[type=arrow,nbt={crit:1b},distance=..3,limit=1,sort=nearest] {Tags:["AbianLifesteal"]}
execute at @p[tag=Abian,scores={Basic_Bow=1..}] run execute positioned ^ ^1.35 ^1 run data merge entity @e[type=arrow,nbt={crit:1b},distance=..3,limit=1,sort=nearest] {PierceLevel:1b}
execute as @e[type=arrow,tag=AbianLifesteal] at @s run particle minecraft:sneeze ~ ~ ~ 0 0 0 0 2
execute as @e[type=arrow,nbt={inGround:1b},tag=AbianLifesteal] at @s run kill @s
execute as @e[type=arrow,tag=AbianLifesteal] at @s run execute if entity @e[nbt={HurtTime:9s},tag=!Abian,type=!arrow,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit,distance=..3] run effect give @p[tag=Abian] minecraft:instant_health
execute as @e[type=arrow,tag=AbianLifesteal] at @s run execute if entity @e[nbt={HurtTime:9s},tag=!Abian,type=!arrow,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit,distance=..3] run particle minecraft:sneeze ~ ~ ~ 0.5 0.5 0.5 0.5 20
execute as @e[type=arrow,tag=AbianLifesteal] at @s run execute if entity @e[nbt={HurtTime:9s},tag=!Abian,type=!arrow,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit,distance=..3] run kill @s


# Lifesteal (Buffed by Autism Awareness Day)
execute at @p[tag=Abian,scores={Basic_Bow=1..},tag=AbianMaxAutism] run execute positioned ^ ^1.35 ^0.5 run kill @e[type=arrow,distance=..3,limit=1,sort=nearest]
execute at @p[tag=Abian,scores={Basic_Bow=1..},tag=AbianMaxAutism] run execute positioned ^ ^1.35 ^1 run playsound minecraft:entity.shulker.shoot neutral @a[distance=..30] ~ ~ ~ 10 0 1
execute at @p[tag=Abian,scores={Basic_Bow=1..},tag=AbianMaxAutism] run execute positioned ^ ^1.35 ^1 run summon armor_stand ~ ~ ~ {Tags:["AbianLifestealBuffed","AbianLifestealBuffed1"],Small:1,Invisible:1,NoGravity:1b,Marker:1b,Invulnerable:1,DisabledSlots:2039583}
execute at @p[tag=Abian,scores={Basic_Bow=1..},tag=AbianMaxAutism] run execute positioned ^ ^1.35 ^1 run summon armor_stand ~ ~ ~ {Tags:["AbianLifestealBuffed","AbianLifestealBuffed2"],Small:1,Invisible:1,NoGravity:1b,Marker:1b,Invulnerable:1,DisabledSlots:2039583}
execute at @p[tag=Abian,scores={Basic_Bow=1..},tag=AbianMaxAutism] run execute positioned ^ ^1.35 ^1 run summon armor_stand ~ ~ ~ {Tags:["AbianLifestealBuffed","AbianLifestealBuffed3"],Small:1,Invisible:1,NoGravity:1b,Marker:1b,Invulnerable:1,DisabledSlots:2039583}
execute as @p[tag=Abian,scores={Basic_Bow=1..},tag=AbianMaxAutism] at @s run tag @s remove AbianMaxAutism

execute as @e[type=armor_stand,tag=AbianLifestealBuffed] at @s run scoreboard players add @s Timer 1
execute as @e[type=armor_stand,tag=AbianLifestealBuffed,scores={Timer=50..}] at @s run kill @s

execute as @e[type=armor_stand,tag=AbianLifestealBuffed] at @s run particle minecraft:dust 0 1 0 2 ~ ~ ~ 0 0 0 1 1
execute as @e[type=armor_stand,tag=AbianLifestealBuffed] at @s run particle minecraft:sneeze ~ ~ ~ 0 0 0 0 2

execute as @e[type=armor_stand,tag=AbianLifestealBuffed,tag=AbianLifestealBuffed1] at @s run tp @s ^1 ^0.1 ^1 facing entity @e[tag=!Abian,limit=1,sort=nearest,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!#arrows,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit]
execute as @e[type=armor_stand,tag=AbianLifestealBuffed,tag=AbianLifestealBuffed2] at @s run tp @s ^-1 ^0.1 ^1 facing entity @e[tag=!Abian,limit=1,sort=nearest,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!#arrows,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit]
execute as @e[type=armor_stand,tag=AbianLifestealBuffed,tag=AbianLifestealBuffed3] at @s run tp @s ^ ^1 ^1 facing entity @e[tag=!Abian,limit=1,sort=nearest,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!#arrows,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit]

execute as @e[type=armor_stand,tag=AbianLifestealBuffed] at @s run execute as @e[distance=..2,tag=!Abian,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!arrow,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit] at @s run function datapack:damage1
execute as @e[type=armor_stand,tag=AbianLifestealBuffed] at @s run execute as @e[distance=..2,tag=!Abian,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!arrow,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit] at @s run effect give @s minecraft:weakness 3 0 true
execute as @e[type=armor_stand,tag=AbianLifestealBuffed] at @s if entity @e[tag=!Abian,tag=!InLabyrinth,type=!arrow,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit,distance=..2] at @s run effect give @p[tag=Abian] minecraft:instant_health 1 1 true
execute as @e[type=armor_stand,tag=AbianLifestealBuffed] at @s if entity @e[tag=!Abian,tag=!InLabyrinth,type=!arrow,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit,distance=..2] at @s run particle minecraft:sneeze ~ ~ ~ 0.5 0.5 0.5 0.5 20
execute as @e[type=armor_stand,tag=AbianLifestealBuffed] at @s if entity @e[tag=!Abian,tag=!InLabyrinth,type=!arrow,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit,distance=..2] at @s run kill @s



# - Overflux -
execute as @p[tag=Abian,scores={Ability2CD=..499}] at @s run scoreboard players add @s Ability2CD 1
execute as @p[tag=Abian,scores={Ability2CD=500..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{Unbreakable:1,display:{Name:'[{"text":"Overflux Power Orb","italic":false,"color":"dark_purple"}]'}}}}] at @s run execute as @p[scores={Basic_COS=1..},tag=Abian] at @s run summon armor_stand ^ ^-0.5 ^1.5 {CustomName:"\"Overflux\"",CustomNameVisible:1,Tags:["AbianOverflux"],Invisible:1,NoGravity:1b,Marker:1b,Invulnerable:1,ArmorItems:[{},{},{},{id:"minecraft:player_head",tag:{SkullOwner:{Id:[I;90327587,-1561246023,-1641618333,-2057370175],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvODQ4NTlkMGFkZmM5M2JlMTliYjQ0MWU2ZWRmZDQzZjZiZmU2OTEyNzIzMDMzZjk2M2QwMDlhMTFjNDgyNDUxMCJ9fX0="}]}}},Count:1b}],DisabledSlots:2039583}
execute as @p[tag=Abian,scores={Ability2CD=500..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{Unbreakable:1,display:{Name:'[{"text":"Overflux Power Orb","italic":false,"color":"dark_purple"}]'}}}}] at @s run execute as @p[scores={Basic_COS=1..},tag=Abian] at @s run particle minecraft:dust 0.5 0 0 1 ^ ^-0.5 ^2 1 1 1 0 100
execute as @p[tag=Abian,scores={Ability2CD=500..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{Unbreakable:1,display:{Name:'[{"text":"Overflux Power Orb","italic":false,"color":"dark_purple"}]'}}}}] at @s run execute as @p[scores={Basic_COS=1..},tag=Abian] at @s run playsound minecraft:block.beacon.activate neutral @a[distance=..50] ~ ~ ~ 2 1 1
execute as @p[tag=Abian,scores={Ability2CD=500..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{Unbreakable:1,display:{Name:'[{"text":"Overflux Power Orb","italic":false,"color":"dark_purple"}]'}}}}] at @s run execute as @p[scores={Basic_COS=1..},tag=Abian] at @s run scoreboard players set @s Ability2CD 0

scoreboard players add @e[type=armor_stand,tag=AbianOverflux] Timer 1

execute if entity @e[type=armor_stand,tag=AbianOverflux] run function datapack:abian_functions/abianpassive2

scoreboard players set @e[type=armor_stand,tag=AbianOverflux,scores={Timer=60..}] Timer 0

execute as @e[type=armor_stand,tag=AbianOverflux] at @s run tp @s ~ ~ ~ ~15 ~

execute as @e[type=armor_stand,tag=AbianOverflux,tag=!AbianOverfluxBuffed] at @s run particle minecraft:dust 0.5 0 0 1 ^ ^1.8 ^0.7
execute as @e[type=armor_stand,tag=AbianOverflux,tag=!AbianOverfluxBuffed] at @s run particle minecraft:dust 0.1 0 0.1 1 ^ ^1.8 ^-0.7

execute as @e[type=armor_stand,tag=AbianOverflux] at @s run particle minecraft:enchant ^ ^-0.2 ^-20 0 0 0 0 2
execute as @e[type=armor_stand,tag=AbianOverflux] at @s run particle minecraft:enchant ^ ^-0.2 ^20 0 0 0 0 2
execute as @e[type=armor_stand,tag=AbianOverflux] at @s run particle minecraft:enchant ^1 ^-0.2 ^-20 0 0 0 0 2
execute as @e[type=armor_stand,tag=AbianOverflux] at @s run particle minecraft:enchant ^1 ^-0.2 ^20 0 0 0 0 2
execute as @e[type=armor_stand,tag=AbianOverflux] at @s run particle minecraft:enchant ^-1 ^-0.2 ^-20 0 0 0 0 2
execute as @e[type=armor_stand,tag=AbianOverflux] at @s run particle minecraft:enchant ^-1 ^-0.2 ^20 0 0 0 0 2
execute as @e[type=armor_stand,tag=AbianOverflux] at @s run particle minecraft:enchant ^2 ^-0.2 ^-20 0 0 0 0 2
execute as @e[type=armor_stand,tag=AbianOverflux] at @s run particle minecraft:enchant ^2 ^-0.2 ^20 0 0 0 0 2
execute as @e[type=armor_stand,tag=AbianOverflux] at @s run particle minecraft:enchant ^-2 ^-0.2 ^-20 0 0 0 0 2
execute as @e[type=armor_stand,tag=AbianOverflux] at @s run particle minecraft:enchant ^-2 ^-0.2 ^20 0 0 0 0 2
execute as @e[type=armor_stand,tag=AbianOverflux] at @s run particle minecraft:enchant ^3 ^-0.2 ^-20 0 0 0 0 2
execute as @e[type=armor_stand,tag=AbianOverflux] at @s run particle minecraft:enchant ^3 ^-0.2 ^20 0 0 0 0 2
execute as @e[type=armor_stand,tag=AbianOverflux] at @s run particle minecraft:enchant ^-3 ^-0.2 ^-20 0 0 0 0 2
execute as @e[type=armor_stand,tag=AbianOverflux] at @s run particle minecraft:enchant ^-3 ^-0.2 ^20 0 0 0 0 2

execute at @e[tag=AbianOverflux,type=armor_stand] run execute if entity @e[tag=!Abian,tag=!InLabyrinth,distance=..7,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!#arrows,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit] as @e[tag=AbianOverflux,type=armor_stand] at @s positioned ~ ~1.65 ~ facing entity @e[tag=!Abian,distance=..7,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!#arrows,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit,sort=nearest] eyes run function datapack:abian_functions/abianpassive5
execute as @e[tag=AbianOverflux,type=armor_stand] at @s run execute if entity @e[tag=!Abian,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!#arrows,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit,distance=..7] run scoreboard players add @s Timer3 1
execute as @e[tag=!Abian,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!#arrows,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit] at @s unless entity @e[type=armor_stand,tag=AbianOverflux,distance=..7] run scoreboard players set @s AbianFluxLaser 0

execute as @e[tag=AbianOverflux,type=armor_stand,scores={Timer3=30..}] at @s run execute as @e[tag=!Abian,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!#arrows,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit,distance=..7] at @s run function datapack:damage1
scoreboard players set @e[tag=AbianOverflux,type=armor_stand,scores={Timer3=30..}] Timer3 0

execute as @e[type=armor_stand,tag=AbianOverflux,tag=!AbianOverfluxBuffed] at @s run effect give @p[tag=Abian,distance=..20] minecraft:resistance 1 0 true
execute as @e[type=armor_stand,tag=AbianOverflux,tag=!AbianOverfluxBuffed] at @s run effect give @p[tag=Abian,distance=..20] minecraft:regeneration 1 1 true

scoreboard players add @e[type=armor_stand,tag=AbianOverflux] Timer2 1
execute as @e[type=armor_stand,tag=AbianOverflux,scores={Timer2=..130}] at @s run playsound minecraft:block.beacon.ambient neutral @a[distance=..50] ~ ~ ~ 1 1 1
execute as @e[type=armor_stand,tag=AbianOverflux,scores={Timer2=205..}] at @s run particle minecraft:poof ~ ~1.5 ~ 0.5 0.5 0.5 0.1 10
execute as @e[type=armor_stand,tag=AbianOverflux,scores={Timer2=205..}] at @s run playsound minecraft:block.beacon.deactivate neutral @a[distance=..50] ~ ~ ~ 2 2 1

kill @e[type=armor_stand,tag=AbianOverflux,scores={Timer2=205..}]


# Overflux (Buffed by Autism Awareness Day)
execute as @e[type=armor_stand,tag=AbianOverflux,scores={Timer2=1}] at @s if entity @p[tag=AbianMaxAutism] run tag @s add AbianOverfluxBuffed
execute as @e[type=armor_stand,tag=AbianOverflux,scores={Timer2=1}] at @s if entity @p[tag=AbianMaxAutism] at @s run tag @p[tag=AbianMaxAutism] remove AbianMaxAutism

execute as @e[type=armor_stand,tag=AbianOverfluxBuffed,scores={Timer2=1}] at @s run item replace entity @s armor.head with player_head{SkullOwner:{Id:[I;1843755688,-2735795,-1382316714,980272151],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvODNlZDRjZTIzOTMzZTY2ZTA0ZGYxNjA3MDY0NGY3NTk5ZWViNTUzMDdmN2VhZmU4ZDkyZjQwZmIzNTIwODYzYyJ9fX0="}]}}}

execute as @e[type=armor_stand,tag=AbianOverfluxBuffed] at @s run particle minecraft:dust 0.5 0 0.5 1 ^ ^1.8 ^-0.7
execute as @e[type=armor_stand,tag=AbianOverfluxBuffed] at @s run particle minecraft:dust 0.1 0 0.1 1 ^ ^1.8 ^0.7

execute as @e[type=armor_stand,tag=AbianOverfluxBuffed] at @s run effect give @p[tag=Abian,distance=..20] minecraft:resistance 1 1 true
execute as @e[type=armor_stand,tag=AbianOverfluxBuffed] at @s run effect give @p[tag=Abian,distance=..20] minecraft:regeneration 1 2 true



# - Rise -
execute as @p[tag=Abian,scores={Ability3CD=..299}] at @s run scoreboard players add @s Ability3CD 1
execute as @p[tag=Abian,scores={Ability3CD=300..}] run execute as @p[tag=Abian,scores={Basic_COS=1..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Rise","italic":false,"color":"light_purple"}]'}}}}] at @s run scoreboard players set @s RaycastTimer 0
execute as @p[tag=Abian,scores={Ability3CD=300..}] run execute as @p[tag=Abian,scores={Basic_COS=1..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Rise","italic":false,"color":"light_purple"}]'}}}}] at @s run execute at @s positioned ~ ~1.5 ~ run function datapack:abian_functions/abianpassive6


execute as @e[type=armor_stand,tag=AbianHydra] at @s run scoreboard players add @s Timer 1

execute as @e[type=armor_stand,tag=AbianHydra,scores={Timer=50}] at @s run playsound minecraft:entity.ender_dragon.shoot neutral @a[distance=..30] ~ ~ ~ 2 0 1
execute as @e[type=armor_stand,tag=AbianHydra,scores={Timer=50}] at @s run particle dragon_breath ^ ^1.6 ^1.5 0.5 0.5 0.5 1 30
execute as @e[type=armor_stand,tag=AbianHydra,scores={Timer=50}] at @s run tp @s ~ ~ ~ facing entity @e[tag=!Abian,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!arrow,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit,distance=..50,limit=1,sort=nearest]
execute as @e[type=armor_stand,tag=AbianHydra,scores={Timer=50}] at @s run summon armor_stand ~ ~1 ~ {Tags:["AbianHydraFireball","projectile"],NoGravity:1b,Marker:1b,Small:1,Invisible:1,Invulnerable:1,ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b,tag:{SkullOwner:{Id:[I;-1225913171,-641973974,-1611519566,338257277],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvOTY5ZGE0ZTdiOGQ1NThhZjAyZTgwZTJlMTY2OWNlYjYwODQ4OThkYjU1OTA3ZWYzZTY2ZDlhMzI5MzI5ZTk0MSJ9fX0="}]}}},Count:1b}],DisabledSlots:2039583}
execute as @e[type=armor_stand,tag=AbianHydra,scores={Timer=50}] at @s run tp @e[type=armor_stand,tag=AbianHydraFireball,distance=..3] @s
scoreboard players set @e[type=armor_stand,tag=AbianHydra,scores={Timer=50..}] Timer 0

execute as @e[type=armor_stand,tag=AbianHydraFireball] at @s run scoreboard players add @s Timer 1
execute as @e[type=armor_stand,tag=AbianHydraFireball,scores={Timer=30..}] at @s run particle witch ~ ~1 ~ 0.3 0.3 0.3 0.3 10
execute as @e[type=armor_stand,tag=AbianHydraFireball,scores={Timer=30..}] at @s run particle dragon_breath ~ ~1 ~ 0 0 0 0.3 50
execute as @e[type=armor_stand,tag=AbianHydraFireball,scores={Timer=30..}] at @s run kill @s
execute as @e[type=armor_stand,tag=AbianHydraFireball] at @s run tp @s ^ ^ ^1

scoreboard players add @e[type=armor_stand,tag=AbianHydra] Timer2 1
execute as @e[type=armor_stand,tag=AbianHydra,scores={Timer2=200..}] at @s run particle dust 0.1 0.1 0.1 3 ~ ~ ~ 0 5 0 0 30
execute as @e[type=armor_stand,tag=AbianHydra,scores={Timer2=200..}] at @s run particle dust 0.1 0.1 0.1 2 ~ ~0.3 ~ 2 0 2 0 50
execute as @e[type=armor_stand,tag=AbianHydra,scores={Timer2=200..}] at @s run item replace entity @p[tag=Abian,nbt={Inventory:[{id:"minecraft:carrot_on_a_stick",tag:{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Swap","italic":false,"color":"dark_purple"}]'}}}]}] hotbar.0 carrot_on_a_stick{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Rise","italic":false,"color":"light_purple"}]',Lore:['[{"text":"Item Ability: | ","italic":false,"color":"gold"},{"text":"RIGHT CLICK","color":"yellow","bold":true},{"text":"","color":"dark_purple","bold":false}]','[{"text":"Summons a hydra to fight for you.","italic":false,"color":"gray"}]']},CustomModelData:68}
execute as @e[type=armor_stand,tag=AbianHydra,scores={Timer2=200..}] at @s run clear @p[tag=Abian] carrot_on_a_stick{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Swap","italic":false,"color":"dark_purple"}]',Lore:['[{"text":"Item Ability: | ","italic":false,"color":"gold"},{"text":"RIGHT CLICK","color":"yellow","bold":true},{"text":"","color":"dark_purple","bold":false}]','[{"text":"You swap locations with your Hydra","italic":false,"color":"gray"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]']},Enchantments:[{id:infinity,lvl:1}],HideFlags:33,CustomModelData:68}
execute as @e[type=armor_stand,tag=AbianHydra,scores={Timer2=200..}] at @s run tag @p[tag=Abian] remove AbianCanSwap
execute as @e[type=armor_stand,tag=AbianHydra,scores={Timer2=200..}] at @s run kill @s

execute as @e[type=armor_stand,tag=AbianHydraFireball] at @s run particle dust 0.1 0.1 0.1 2 ^ ^1 ^-2 0 0 0 0 2
execute as @e[type=armor_stand,tag=AbianHydraFireball] at @s run particle minecraft:witch ^ ^1 ^-2 0 0 0 0 2
execute at @e[type=armor_stand,tag=AbianHydraFireball] run execute as @e[distance=..2,tag=!Abian,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!arrow,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit] at @s run function datapack:damage1
execute at @e[type=armor_stand,tag=AbianHydraFireball] run execute as @e[distance=..2,tag=!Abian,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!arrow,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit] at @s run effect give @s slowness 1 9 true
execute as @e[type=armor_stand,tag=AbianHydraFireball] at @s if entity @e[tag=!Abian,type=!arrow,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit,distance=..2] at @s run particle witch ~ ~1 ~ 0.3 0.3 0.3 0.3 10
execute as @e[type=armor_stand,tag=AbianHydraFireball] at @s if entity @e[tag=!Abian,type=!arrow,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit,distance=..2] at @s run particle dragon_breath ~ ~1 ~ 0 0 0 0.3 50
execute as @e[type=armor_stand,tag=AbianHydraFireball,tag=!AbianHydraFireballBuffed] at @s if entity @e[tag=!Abian,tag=!InLabyrinth,type=!arrow,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit,distance=..2] at @s run kill @s


# {ability3cd=10..} is to stop abian from instantly swapping to the hydra when you use rise
# Swap
execute as @p[tag=Abian,scores={Ability3CD=10..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Swap","italic":false,"color":"dark_purple"}]'}}}}] at @s if entity @e[type=armor_stand,tag=AbianHydra] run execute as @p[tag=Abian,scores={Basic_COS=1..}] at @s run tag @s remove AbianCanSwap
execute as @p[tag=Abian,scores={Ability3CD=10..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Swap","italic":false,"color":"dark_purple"}]'}}}}] at @s if entity @e[type=armor_stand,tag=AbianHydra] run execute as @p[tag=Abian,scores={Basic_COS=1..}] at @s run summon armor_stand ~ ~ ~ {Tags:["HydraSwapPositionsWithAbian"],NoGravity:1b,Marker:1b,Small:1,Invisible:1,Invulnerable:1,DisabledSlots:2039583}
execute as @p[tag=Abian,scores={Ability3CD=10..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Swap","italic":false,"color":"dark_purple"}]'}}}}] at @s if entity @e[type=armor_stand,tag=AbianHydra] run execute as @p[tag=Abian,scores={Basic_COS=1..}] at @s run tp @s @e[type=armor_stand,tag=AbianHydra,limit=1,sort=nearest]
execute as @p[tag=Abian,scores={Ability3CD=10..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Swap","italic":false,"color":"dark_purple"}]'}}}}] at @s if entity @e[type=armor_stand,tag=AbianHydra] run execute as @p[tag=Abian,scores={Basic_COS=1..}] at @s run tp @e[type=armor_stand,tag=AbianHydra,limit=1,sort=nearest] @e[type=armor_stand,tag=HydraSwapPositionsWithAbian,limit=1,sort=nearest]
execute as @p[tag=Abian,scores={Ability3CD=10..},nbt={SelectedItem:{id:"minecraft:carrot_on_a_stick",tag:{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Swap","italic":false,"color":"dark_purple"}]'}}}}] at @s if entity @e[type=armor_stand,tag=AbianHydra] run execute as @p[tag=Abian,scores={Basic_COS=1..}] at @s run item replace entity @s weapon.mainhand with carrot_on_a_stick{Unbreakable:1,AbianWeapon:1b,display:{Name:'[{"text":"Rise","italic":false,"color":"light_purple"}]',Lore:['[{"text":"Item Ability: | ","italic":false,"color":"gold"},{"text":"RIGHT CLICK","color":"yellow","bold":true},{"text":"","color":"dark_purple","bold":false}]','[{"text":"Summons a hydra to fight for you.","italic":false,"color":"gray"}]']},CustomModelData:68}

execute as @e[type=armor_stand,tag=HydraSwapPositionsWithAbian] at @s if entity @e[type=armor_stand,tag=AbianHydra,distance=..2] run kill @s


# Rise (Buffed by Autism Awareness Day)
execute as @e[type=armor_stand,tag=AbianHydra,scores={Timer2=1}] at @s if entity @p[tag=AbianMaxAutism] run tag @s add AbianHydraBuffed
execute as @e[type=armor_stand,tag=AbianHydra,scores={Timer2=1}] at @s if entity @p[tag=AbianMaxAutism] at @s run tag @p[tag=AbianMaxAutism] remove AbianMaxAutism

execute as @e[type=armor_stand,tag=AbianHydraBuffed] at @s run particle minecraft:portal ^1.5 ^ ^1.5 0 2 0 0 15
execute as @e[type=armor_stand,tag=AbianHydraBuffed] at @s run particle minecraft:portal ^-1.5 ^ ^1.5 0 2 0 0 15
execute as @e[type=armor_stand,tag=AbianHydraBuffed] at @s run particle minecraft:portal ^1.5 ^ ^-1.5 0 2 0 0 15
execute as @e[type=armor_stand,tag=AbianHydraBuffed] at @s run particle minecraft:portal ^-1.5 ^ ^-1.5 0 2 0 0 15

execute as @e[type=armor_stand,tag=AbianHydraFireball,scores={Timer=1}] at @s if entity @e[type=armor_stand,tag=AbianHydraBuffed] run tag @s add AbianHydraFireballBuffed

execute as @e[type=armor_stand,tag=AbianHydraFireballBuffed] at @s run particle minecraft:reverse_portal ^ ^1 ^ 0 0.5 0 0 5

execute as @e[type=armor_stand,tag=AbianHydraFireballBuffed] at @s run execute as @e[distance=..2,tag=!Abian,tag=!InLabyrinth,type=!experience_orb,type=!area_effect_cloud,type=!arrow,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit] at @s run effect give @s wither 2 9 true
execute as @e[type=armor_stand,tag=AbianHydraFireballBuffed] at @s if entity @e[tag=!Abian,tag=!InLabyrinth,type=!arrow,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit,distance=..2] at @s run playsound minecraft:block.end_gateway.spawn neutral @a[distance=..50] ~ ~ ~ 2 0 1
execute as @e[type=armor_stand,tag=AbianHydraFireballBuffed] at @s if entity @e[tag=!Abian,tag=!InLabyrinth,type=!arrow,type=!experience_orb,type=!area_effect_cloud,type=!armor_stand,type=!egg,type=!leash_knot,type=!trident,type=!painting,type=!snowball,type=!fireball,type=!small_fireball,type=!ender_pearl,type=!eye_of_ender,type=!experience_bottle,type=!item_frame,type=!item,type=!tnt,type=!falling_block,type=!firework_rocket,type=!shulker_bullet,type=!dragon_fireball,type=!evoker_fangs,type=!minecart,type=!chest_minecart,type=!furnace_minecart,type=!tnt_minecart,type=!hopper_minecart,type=!spawner_minecart,type=!llama_spit,distance=..2] at @s run kill @s
